ALLOC 4

READ
STORE 0

CONST 0
STORE 1

CONST 2
STORE 2

CONST -1
STORE 3

// While 1
A: LOAD 2
LOAD 0
LEQ
FJUMP B

// While 2
C: LOAD 0
LOAD 2
MOD
CONST 0
EQ
FJUMP D

LOAD 0
LOAD 2
DIV
STORE 0

LOAD 1
CONST 1
ADD
STORE 1

LOAD 2
STORE 3

JUMP C
D:

// If here
LOAD 2
CONST 2
MOD
CONST 0
NEQ
FJUMP F

LOAD 2
CONST 1
ADD
STORE 2

JUMP I
F:

LOAD 2
CONST 1
ADD
STORE 2

I:

JUMP A
B:

LOAD 1
WRITE

// If bottom
LOAD 0
LOAD 3
LESS
FJUMP G

LOAD 3
WRITE

JUMP H
G:

LOAD 0
WRITE

H:
HALT